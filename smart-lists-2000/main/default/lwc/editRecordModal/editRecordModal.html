<template>
    <div>
        <section role="dialog" tabindex="-1" aria-modal="true" aria-describedby="modal-content-id-1"
            class="slds-modal slds-fade-in-open">
            <div class="slds-modal__container modal-style" style="min-width:50%;">
                <header class="slds-modal__header">
                    <button
                        class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse slds-current-color"
                        title={labels.labelClose} onclick={closeModal} disabled={saving}>
                        <lightning-icon size="x-small" icon-name="utility:close" alternative-text={labels.labelClose}
                            title={labels.labelClose}>
                            <label>labels.labelClose</label>
                        </lightning-icon>
                    </button>
                    <h2 id="modal-heading-01" class="slds-modal__title slds-hyphenate">
                        {title}
                    </h2>
                </header>
                <div class="slds-modal__content slds-var-p-around_medium" id="modal-content-id-1" >
                    <template lwc:if={showRecordTypes}>
                        <div style="position:relative; min-height:100%; height: 100%; max-width:100%; width: 100%">
                            <div style="height: 100%; margin-bottom: 4rem; ">
                                <lightning-radio-group label="xyz" options={recordTypes} value={recordTypeId} variant="label-hidden"
                                    type="radio" onchange={handleSelectRecordType}>
                                </lightning-radio-group>
                            </div>
                            <div style="position: absolute; bottom: 0px; left: 0px; right: 0px; margin-bottom: 1rem; text-align:center">
                                <lightning-button label={labels.labelCancel} onclick={closeModal} class="slds-var-p-left_xx-small">
                                </lightning-button>
                                <lightning-button label={labels.labelNext} onclick={handleNext} variant="brand" class="slds-var-p-left_xx-small">
                                </lightning-button>
                            </div>
                        </div>
                    </template>
                    <template lwc:else>
                        <div style="position: relative;">
                            <template lwc:if={saving}>
                                <div style="display: inline-block;">
                                    <lightning-spinner alternative-text="Saving" size="medium" variant="brand"></lightning-spinner>
                                </div>
                            </template>
                            <lightning-record-form record-id={recordId} object-api-name={objectName} record-type-id={recordTypeId} columns="2" layout-type="Full" mode="edit" 
                                onsubmit={handleSubmit} onsuccess={handleSuccess} onerror={handleError} oncancel={closeModal}>
                                <lightning-messages></lightning-messages>
                            </lightning-record-form>
                        </div>
                </template>
                </div>
            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
    </div>
</template>